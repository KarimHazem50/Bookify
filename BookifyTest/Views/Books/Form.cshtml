@model BookFormViewModel

@{
    ViewData["Title"] = "Book Form";
}
<!-- /.card -->
<div class="card">
    <div class="card-header d-flex justify-content-center align-items-center py-4">
        <div class="d-flex align-items-center">
            <span class="h2 mb-0">Book Form</span>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 122.88 101.37" style="font-size: 6px; width: 29px; margin-top: 3px; margin-left: 5px; fill: #969696; enable-background:new 0 0 122.88 101.37" xml:space="preserve"><g><path d="M12.64,77.27l0.31-54.92h-6.2v69.88c8.52-2.2,17.07-3.6,25.68-3.66c7.95-0.05,15.9,1.06,23.87,3.76 c-4.95-4.01-10.47-6.96-16.36-8.88c-7.42-2.42-15.44-3.22-23.66-2.52c-1.86,0.15-3.48-1.23-3.64-3.08 C12.62,77.65,12.62,77.46,12.64,77.27L12.64,77.27z M103.62,19.48c-0.02-0.16-0.04-0.33-0.04-0.51c0-0.17,0.01-0.34,0.04-0.51V7.34 c-7.8-0.74-15.84,0.12-22.86,2.78c-6.56,2.49-12.22,6.58-15.9,12.44V85.9c5.72-3.82,11.57-6.96,17.58-9.1 c6.85-2.44,13.89-3.6,21.18-3.02V19.48L103.62,19.48z M110.37,15.6h9.14c1.86,0,3.37,1.51,3.37,3.37v77.66 c0,1.86-1.51,3.37-3.37,3.37c-0.38,0-0.75-0.06-1.09-0.18c-9.4-2.69-18.74-4.48-27.99-4.54c-9.02-0.06-18.03,1.53-27.08,5.52 c-0.56,0.37-1.23,0.57-1.92,0.56c-0.68,0.01-1.35-0.19-1.92-0.56c-9.04-4-18.06-5.58-27.08-5.52c-9.25,0.06-18.58,1.85-27.99,4.54 c-0.34,0.12-0.71,0.18-1.09,0.18C1.51,100.01,0,98.5,0,96.64V18.97c0-1.86,1.51-3.37,3.37-3.37h9.61l0.06-11.26 c0.01-1.62,1.15-2.96,2.68-3.28l0,0c8.87-1.85,19.65-1.39,29.1,2.23c6.53,2.5,12.46,6.49,16.79,12.25 c4.37-5.37,10.21-9.23,16.78-11.72c8.98-3.41,19.34-4.23,29.09-2.8c1.68,0.24,2.88,1.69,2.88,3.33h0V15.6L110.37,15.6z M68.13,91.82c7.45-2.34,14.89-3.3,22.33-3.26c8.61,0.05,17.16,1.46,25.68,3.66V22.35h-5.77v55.22c0,1.86-1.51,3.37-3.37,3.37 c-0.27,0-0.53-0.03-0.78-0.09c-7.38-1.16-14.53-0.2-21.51,2.29C79.09,85.15,73.57,88.15,68.13,91.82L68.13,91.82z M58.12,85.25 V22.46c-3.53-6.23-9.24-10.4-15.69-12.87c-7.31-2.8-15.52-3.43-22.68-2.41l-0.38,66.81c7.81-0.28,15.45,0.71,22.64,3.06 C47.73,78.91,53.15,81.64,58.12,85.25L58.12,85.25z" /></g></svg>
        </div>
    </div>
    <!-- /.card-header -->
    <div class="card-body" style="padding: 50px">
        <form method="post" asp-controller="Books" enctype="multipart/form-data" id="Form">
            <div class="row" style="justify-content: space-evenly">
                <input type="hidden" asp-for="Id" />
                <div class="col col-md-4">
                    <div class="row mb-5">
                        <input type="text" class="form-control form-control-lg css-auto-fill js-input-title-validate" placeholder="Title" asp-for="Title">
                        <span asp-validation-for="Title" class="text-danger d-block"></span>
                    </div>
                    <div class="row mb-5">
                        <select class="form-control form-control-lg js-select2" asp-for="AuthorId" asp-items="@Model.DisplayAuthors" data-placeholder="Select an author">
                            <option value=""></option>
                        </select>
                        <span asp-validation-for="AuthorId" class="text-danger d-block"></span>
                    </div>
                    <div class="row mb-5">
                        <select class="form-control form-control-lg js-select2-multi" asp-for="SelectedCategories" asp-items="@Model.DisplayCategories" data-placeholder="Select categories">
                            <option value=""></option>
                        </select>
                        <span asp-validation-for="SelectedCategories" class="text-danger d-block"></span>
                    </div>
                    <div class="row mb-5">
                        <input type="text" class="form-control form-control-lg css-auto-fill" placeholder="Publisher" asp-for="Publisher">
                        <span asp-validation-for="Publisher" class="text-danger d-block"></span>
                    </div>
                    <div class="row mb-5">
                        <input type="text" class="form-control form-control-lg js-DateRagePicker" placeholder="Publishing Date" asp-for="PublishingDate">
                        <span asp-validation-for="PublishingDate" class="text-danger d-block"></span>
                    </div>
                    <div class="row mb-5">
                        <div class="custom-control custom-switch ml-3" style="line-height: 1.9">
                            <input type="checkbox" class="custom-control-input form-control" asp-for="IsAvailableForRental">
                            <label class="custom-control-label" asp-for="IsAvailableForRental"></label>
                        </div>
                        <span asp-validation-for="IsAvailableForRental" class="text-danger d-block"></span>
                    </div>
                    <div class="row mb-5 mb-md-0">
                        <input type="text" class="form-control form-control-lg css-auto-fill" placeholder="Hall" asp-for="Hall">
                        <span asp-validation-for="Hall" class="text-danger d-block"></span>
                    </div>
                </div>
                <div class="col col-md-6">
                    <div class="row mb-5 justify-content-center">
                        <div class="image-preview-container" style="background-image: url('../../images/books/thumb/@(Model.ImageName is null ? "image-placeholder.jpg" : Model.ImageName)');">
                            <div class="preview">
                                <img id="preview-selected-image" />
                            </div>
                            <label asp-for="Image" class="btn btn-icon btn-circle btn-color-muted btn-active-color-primary w-25px h-25px bg-body shadow" onchange="previewImage(event);">
                                <i class="fa-solid fa-pencil" style="color: #A1A5B7; font-size: 14px"></i>
                                <!--begin::Inputs-->
                                <input class="inputForImage" type="file" asp-for="Image" accept=".png, .jpg, .jpeg">
                                <!--end::Inputs-->
                            </label>
                            <div class="btn-cansel shadow">
                                <span class="btn btn-icon btn-color-muted btn-circle btn-active-color-primary w-25px h-25px bg-body shadow" style="color: #A1A5B7; font-size: 14px">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                                        <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z" />
                                    </svg>
                                </span>
                            </div>
                        </div>
                        <span asp-validation-for="Image" class="text-danger d-block" style="width: 100%; display: flex !important; justify-content: center;"></span>
                    </div>
                    <div class="row justify-content-end">
                        <textarea class="js-tinyMCE" placeholder="Description" asp-for="Description"></textarea>
                        <span asp-validation-for="Description" class="text-danger d-block" style="text-align: end"></span>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <!-- /.card-body -->
    <div class="card-footer pt-0">
        <div class="modal-footer px-5 pt-3 justify-content-center">
            <a asp-action="Index" class="btn btn-default py-2 px-3 ml-0" style="margin-left:-80px; margin-right: 10px;">Close</a>
            <button class="btn btn-primary py-2 px-3 js-indicator" type="submit" form="Form" onclick="window.history.replaceState({}, '', '@Url.Action("Index", "Books")');">
                <spna class="input-btn-form-submit">Save</spna>
                <span class="spinner-border-sm js-indicator-spinner" role="status" aria-hidden="true"></span>
            </button>
        </div>
    </div>
</div>
<!-- /.card -->
@section Plugins {
    <partial name="_ValidationScriptsPartial" />
     <!-- tinyMCE -->
    <script src="~/lib/tinymce/tinymce.min.js"></script>
    <script src="https://cdn.tiny.cloud/1/5bl510aqwnxuyfuzk0wqcumwya6v16na1r53x6dwmf3zafpg/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
}
@section Scripts {
    <script src="~/js/bookform.js" asp-append-version="true"></script>
}